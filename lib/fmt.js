(function() {
  'use strict';
  var FSTR, TRM, format, new_formatter;

  //===========================================================================================================
  // H                         = require './_helpers'
  FSTR = require('../dependencies/LiuQixuan-FString');

  TRM = require('./trm');

  //===========================================================================================================
  format = function(fmt, x) {
    if (fmt.startsWith(':')) {
      throw new SyntaxError(`format spec can not start with colon, got ${TRM.rpr(fmt)}`);
    }
    fmt = ':' + fmt;
    if ((typeof x) !== 'string') {
      x = TRM.rpr(x);
    }
    return FSTR.formatByParam(x, fmt);
  };

  //-----------------------------------------------------------------------------------------------------------
  new_formatter = function(fmt) {
    return function(x) {
      return format(fmt, x);
    };
  };

  //===========================================================================================================
  module.exports = {format, new_formatter};

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2ZtdC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFBQTtBQUFBLE1BQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsYUFBQTs7OztFQUlBLElBQUEsR0FBNEIsT0FBQSxDQUFRLG1DQUFSOztFQUM1QixHQUFBLEdBQTRCLE9BQUEsQ0FBUSxPQUFSLEVBTDVCOzs7RUFTQSxNQUFBLEdBQVMsUUFBQSxDQUFFLEdBQUYsRUFBTyxDQUFQLENBQUE7SUFDUCxJQUFHLEdBQUcsQ0FBQyxVQUFKLENBQWUsR0FBZixDQUFIO01BQ0UsTUFBTSxJQUFJLFdBQUosQ0FBZ0IsQ0FBQSwwQ0FBQSxDQUFBLENBQTZDLEdBQUcsQ0FBQyxHQUFKLENBQVEsR0FBUixDQUE3QyxDQUFBLENBQWhCLEVBRFI7O0lBRUEsR0FBQSxHQUFNLEdBQUEsR0FBTTtJQUNaLElBQXVCLENBQUUsT0FBTyxDQUFULENBQUEsS0FBZ0IsUUFBdkM7TUFBQSxDQUFBLEdBQU0sR0FBRyxDQUFDLEdBQUosQ0FBUSxDQUFSLEVBQU47O0FBQ0EsV0FBTyxJQUFJLENBQUMsYUFBTCxDQUFtQixDQUFuQixFQUFzQixHQUF0QjtFQUxBLEVBVFQ7OztFQWlCQSxhQUFBLEdBQWdCLFFBQUEsQ0FBRSxHQUFGLENBQUE7V0FBVyxRQUFBLENBQUUsQ0FBRixDQUFBO2FBQVMsTUFBQSxDQUFPLEdBQVAsRUFBWSxDQUFaO0lBQVQ7RUFBWCxFQWpCaEI7OztFQW9CQSxNQUFNLENBQUMsT0FBUCxHQUFpQixDQUFFLE1BQUYsRUFBVSxhQUFWO0FBcEJqQiIsInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBzdHJpY3QnXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBIICAgICAgICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnLi9faGVscGVycydcbkZTVFIgICAgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICcuLi9kZXBlbmRlbmNpZXMvTGl1UWl4dWFuLUZTdHJpbmcnXG5UUk0gICAgICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnLi90cm0nXG5cblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5mb3JtYXQgPSAoIGZtdCwgeCApIC0+XG4gIGlmIGZtdC5zdGFydHNXaXRoICc6J1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvciBcImZvcm1hdCBzcGVjIGNhbiBub3Qgc3RhcnQgd2l0aCBjb2xvbiwgZ290ICN7VFJNLnJwciBmbXR9XCJcbiAgZm10ID0gJzonICsgZm10XG4gIHggICA9IFRSTS5ycHIgeCB1bmxlc3MgKCB0eXBlb2YgeCApIGlzICdzdHJpbmcnXG4gIHJldHVybiBGU1RSLmZvcm1hdEJ5UGFyYW0geCwgZm10XG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxubmV3X2Zvcm1hdHRlciA9ICggZm10ICkgLT4gKCB4ICkgLT4gZm9ybWF0IGZtdCwgeFxuXG4jPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbm1vZHVsZS5leHBvcnRzID0geyBmb3JtYXQsIG5ld19mb3JtYXR0ZXIsIH1cbiJdfQ==
//# sourceURL=../src/fmt.coffee